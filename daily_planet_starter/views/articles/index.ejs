<h1>Articles</h1>

<a href="/articles/new" class="btn btn-primary">New Article</a>

<% articles.forEach(function(article, idx) { %>
  <div class="well">
    <a href="/articles/<%= idx %>"><h2><%= article.title %></h2></a>
    <button class="delete-article" id="<%= idx %>">Delete</button>
    <a href="/articles/edit/<%= idx %>">Edit</a>
  </div>

<% }); %>


<script>
  $('.delete-article').on('click', function(e) {
    e.preventDefault();
    var deleteUrl = /article/ + $(this).attr('id');
    $.ajax({
      method: 'DELETE',
      url: deleteUrl
    }).done(function(data) {
      // get data returned from the DELETE route
      console.log(data);
      window.location.reload();
    });
  });
</script>